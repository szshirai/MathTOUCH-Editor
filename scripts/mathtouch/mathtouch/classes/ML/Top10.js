/************ Top10 module ************/MathTOUCH.EXtreeScore = function(exx,sc){    this.ex=exx;    this.score=sc;}MathTOUCH.Top10= function(){    this.MAX=10;	var _top10ex=new Array();    this.setMax=function(mx){		this.MAX=mx;	}    this.setTop10=function(topdata){        _top10ex=topdata;    }	this.getLastNumber=function(){		return(_top10ex.length);	}    this.getESAt=function(n){        return _top10ex[n];    }    this.setESAt=function(n,es){        return _top10ex[n]=es;    }    this.getScoreAt=function(n){		var temp=_top10ex[n];        if(temp!=null) return(temp.score);		else return(0);	}    this.getEXtreeAt=function(n){        var temp=_top10ex[n];        if(temp!=null) return(temp.ex);		else return(null);	}};MathTOUCH.Top10.prototype.addIn=function(ex,sc){    var e=this.getLastNumber();    if(e==0){        var temp_top10ex=new Array(1);        temp_top10ex[0]=new MathTOUCH.EXtreeScore(ex,sc);        this.setTop10(temp_top10ex);        return e;    }    if(e==this.MAX) this.MAX++;    var tempEx=new Array(e+1);    var i=0;    for(i=0;i<e;i++){        var exs=this.getESAt(i);        if(sc>exs.score){            tempEx[i]=new MathTOUCH.EXtreeScore(ex,sc);            break;        }        else tempEx[i]=exs;    }    var ans=i;    if(i<e) for(;i<e;i++) tempEx[i+1]=this.getESAt(i);    else tempEx[e]=new MathTOUCH.EXtreeScore(ex,sc);    this.setTop10(tempEx);    return ans;}MathTOUCH.Top10.prototype.rankIn=function(ex,sc){    var e=this.getLastNumber();    if(e<this.MAX){return this.addIn(ex,sc);}    var exs=this.getESAt(e-1);    if(sc<=exs.score){return -1;}    var i;    for(i=e-1;i>0;i--){        exs=this.getESAt(i-1);        if(sc>exs.score){this.setESAt(i,exs);}        else break;    }    this.setESAt(i,new MathTOUCH.EXtreeScore(ex,sc));    return i;}MathTOUCH.Top10.prototype.join=function(tp){    for(var i=0;i<tp.getLastNumber();i++){        if(this.rankIn(tp.getEXtreeAt(i),tp.getScoreAt(i))<0) break;    }}MathTOUCH.Top10.prototype.addInUni=function(ex,sc){    var e=this.getLastNumber();    if(e==0){        var temp_top10ex=new Array(1);        temp_top10ex[0]=new MathTOUCH.EXtreeScore(ex,sc);        this.setTop10(temp_top10ex);        return e;    }    var i=0;    for(i=0;i<e;i++){        if(this.getEXtreeAt(i).equals(ex)) return -2;    }    return this.addIn(ex,sc);}MathTOUCH.Top10.prototype.rankInUni=function(ex,sc){    var e=this.getLastNumber();    if(e<this.MAX){return this.addInUni(ex,sc);}    var exs=this.getESAt(e-1);    if(sc<=exs.score){return -1;}    var i;    for(i=e-1;i>0;i--){        exs=this.getESAt(i-1);        if(sc<=exs.score){            if(exs.ex.equals(ex)) return -2;            else break;        }    }    for(var j=e-1;j>i;j--) this.setESAt(j,this.getESAt(j-1));    this.setESAt(i,new MathTOUCH.EXtreeScore(ex,sc));    return i;}MathTOUCH.Top10.prototype.union=function(tp){    for(var i=0;i<tp.getLastNumber();i++){        if(this.rankInUni(tp.getEXtreeAt(i),tp.getScoreAt(i))==-1) break;    }}